<app-page-header [pageHeaderInfo]="pageHeaderInfo" [extraTpl]="huongdanTpl"></app-page-header>
<ng-template #huongdanTpl>
  <button nz-button nzType="primary" [nzSize]="'large'" nzShape="round" (click)="showVideo()">
      <span nz-icon nzType="star" nzTheme="outline"></span>Hướng dẫn
  </button>
</ng-template>
<div class="normal-table-wrap">
    <nz-card nzHoverable [nzBodyStyle]="{ 'padding-bottom': 0 }" class="m-b-10">
        <form nz-form>
            <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24 }">
              <div nz-col [nzXXl]="8" [nzXl]="8" [nzLg]="8" [nzMd]="12" [nzSm]="24" [nzXs]="24">
                <nz-form-item>
                  <nz-form-label [nzFor]="">Tên nguồn xe</nz-form-label>
                  <nz-form-control>
                    <input nz-input name="datacd" [(ngModel)]="searchParam.datacd" placeholder="Vui lòng nhập nguồn xe" />
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzXXl]="8" [nzXl]="8" [nzLg]="8" [nzMd]="12" [nzSm]="24" [nzXs]="24"></div>
              <div nz-col [nzXXl]="8" [nzXl]="8" [nzLg]="8" [nzMd]="12" [nzSm]="24" [nzXs]="24" class="text-right p-0 m-b-10">
                <button nz-button [nzType]="'primary'" (click)="getDataList()">
                  <i nz-icon nzType="search"></i>
                  Tìm kiếm
                </button>
                <button nz-button class="m-l-15" (click)="resetForm()">
                  <i nz-icon nzType="close-circle" nzTheme="outline"></i>
                  Cài lại
                </button>
              </div>
            </div>
          </form>
    </nz-card>

    <app-card-table-wrap [tableTitle]="'Danh sách nguồn xe'" (reload)="reloadTable()" [btnTpl]="tableBtns">
        <app-ant-table [tableConfig]="tableConfig" (changePageSize)="changePageSize($event)" (changePageNum)="getDataList($event)" [tableData]="dataList">
        </app-ant-table>
        <ng-template #operationTpl let-id="id" let-sodienthoai="sodienthoai">
          <span *appAuth="ActionCode.Nguonxeupdate" class="operate-text">
            <button nz-button nzType="primary" nzGhost (click)="edit(id)">Cập nhật</button>
          </span>
          <span *appAuth="ActionCode.Nguonxethemxe" class="operate-text" >
            <button nz-button nzType="primary" nzGhost (click)="addXe(id)">Thêm xe</button>
          </span>
          <span *appAuth="ActionCode.Nguonxethemtaixe" class="operate-text" >
            <button nz-button nzType="primary" nzGhost (click)="addTaixe(sodienthoai)">Thêm tài xế</button>
          </span>
          <span *appAuth="ActionCode.Nguonxedel" class="operate-text" >
            <button nz-button nzType="primary" nzGhost (click)="del(id)">Xóa</button>
          </span>

        </ng-template>
    </app-card-table-wrap>
</div>

<ng-template #tableBtns>
    <button *appAuth="ActionCode.Nguonxeadd" (click)="add()" nz-button nzType="primary" class="m-r-8">
      <i nz-icon nzType="plus"></i>
      Thêm mới
    </button>
  </ng-template>